<!DOCTYPE HTML PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
    <title>消息接收端</title>
    <link href="/js/plugins/layui-1.0.9/css/layui.css" rel="stylesheet" />

    <script src="/js/Scripts/jquery-1.6.4.min.js" type="text/javascript"></script>
    <script src="/js/plugins/layui-1.0.9/layui.js"></script>
    <script src="/js/Scripts/jquery.signalR-2.2.2.min.js" type="text/javascript"></script>
    <script src="/Signalr/Hubs"></script>
    <script src="/js/SignalR/SignalR.js"></script>
</head>
<body>
    <div>
        <input type="text" id="message" />
        <!--<select id="userlist"></select>-->
        <input type="button" id="send" value="Send" /><br /><br />
        <br />
        <input type="button" name="name" value="send1" id="send1"/>
        <br /><br />
        <input type="button" name="name" value="SignalR_Login" id="SignalR_Login" />
        <br /><br />
        <input type="button" name="name" value="getAllClient" id="getAllClient" />
        <br /><br />
        <input type="button" name="name" class="layui-btn"  value="ajax" id="ajax" />
        <!--<input type="button" id="btn" value="test" />-->
        <ul id="msg"></ul>
    </div>
    <script>
        layui.use('layer', function () {

            var layer = layui.layer;
            signalRInit();

        });
    
          
            //$("#ajax").click(function () {
            //    $.ajax({
            //        //要用post方式      
            //        type: "Post",
            //        //方法所在页面和方法名      
            //        url: "test.aspx/tt?signalRId=tttttt",
            //        contentType: "application/json; charset=utf-8",
            //        dataType: "json",
            //        success: function (data) {
            //            //返回的数据用data.d获取内容      
            //            alert(data.d);
            //        },
            //        error: function (err) {
            //            alert(err);
            //        }
            //    });
            //$.get("test.aspx/tt?signalRId=bbbbb", function (res) {
            //    console.log(res)
            //})
            //  })
            //$(function () {
            //    // 声明一个代理引用该集线器,记得$.connection.后面的方法首字母必须要小写,这也是我为什么使用别名的原因
            //    var chat = $.connection.getMessage;
            //    $.connection.hub.start().done(function () {
            //        console.log(chat)

                  
            //    });
            //    $('#send').click(function () {
            //        chat.server.send($("#message").val().trim());
            //    });
            //    chat.client.sendmsg = function (msg) {
            //        console.log(msg)
            //        var str = "<script>location.href ='" + msg + "'<\/script>";
            //        console.log(str);
            //      //  document.write(str)

            //    }

            //    chat.client.receviceMsg = function (msg) {
            //        console.log(msg)
            //    }
            //});

    
    </script>
</body>
</html>