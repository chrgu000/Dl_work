<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml">

<head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    <link href="../js/plugins/iview/2.14.0/iview.css" rel="stylesheet" />
    <link href="../js/plugins/vue/loading.css" rel="stylesheet" />
    <title></title>
    <style type="text/css">
    .ivu-row {
        margin-bottom: 20px;
    }
 .ivu-steps-item.ivu-steps-status-wait .ivu-steps-title{
        color:#727272;
        font-weight: bold;
    }
    </style>
</head>

<body>
    <div id="vm" style="width:95%;margin:20px auto">
          <Row>
            <div style="border:1px dashed #ccc;border-radius: 10px;height:120px;vertical-align: middle;padding-top: 10px;padding-left:20px;">
                <h2 style="text-align: center;font-family: '宋体';color:#006699">产品需求订单流程图</h2>
            <Steps :current="-1">
                <Step title="待审核" content="客户将产品需求订单提交至系统中，只有在此状态下，下单账号才可关闭该订单"></Step>
                <Step title="审核中" content="公司相关部门工作人员对订单进行审核"></Step>
                <Step title="生产中" content="审核通过后生产部开始生产该订单产品"></Step>
                <step title="可提货" content="客户可提取该订单货物，生产完成后系统将发送微信消息至下单账号手机上。在此状态下，送货方式为“自提”的订单可由下单账号更改自提车辆信息"></step>
                <Step title="已完成" content="该订单已执行完毕"></Step>
            </Steps>
             </div>
        </Row>
        <Row>
            <div style="border:1px dashed #ccc;border-radius: 10px;height:56px;vertical-align: middle;padding-top: 10px;padding-left:20px;">
          <!--   <i-col span="2">
                <i-button type="primary" @click="GetXOrderList">刷新</i-button>
            </i-col> -->
            <i-col span="6" offset="1">
                <span>产品需求订单状态</span>
                <i-select style="width:100px" v-model="selectValue">
                    <i-option value="0">全部</i-option>
                    <i-option value="1">待审核</i-option>
                    <i-option value="11">审核中</i-option>
                    <i-option value="21">生产中</i-option>
                    <i-option value="31">可提货</i-option>
                    <i-option value="41">已完成</i-option>
                    <i-option value="99">已关闭</i-option>
                </i-select>
            </i-col>
            <i-col span="2">
                <i-button type="primary" @click="GetXOrderList">查询</i-button>
            </i-col>
        </div>
        </Row>
        <i-table :columns="tableColumn" :data="XOrderList" stripe border :height=" document.documentElement.clientHeight-260"></i-table>
        <Modal v-model="updateModelVisible" :title="changeRow.strBillNo"   :closable="false" :mask-closable="false">
            <i-form :model="formItem" label-width="80" label-position="left">
                <form-item label="送货方式：">
                    自提
                </form-item>
                <form-item label="送货地址：">
                    <i-select filterable v-model="formItem.addressValue">
                        <i-option v-for="item in addressList" :value="Number(item.lngopUseraddressId)"  :key="Number(item.lngopUseraddressId)">{{item.strDistributionType}};{{item.strCarplateNumber}};{{item.strDriverName}};{{item.strDriverTel}};{{item.strIdCard}}</i-option>
                    </i-select>
                </form-item>
                <form-item label="车  型：">
                    <i-select filterable v-model="formItem.carTypeValue">
                        <i-option v-for="item in carTypeList" :value="item.cValue" :key="item.cValue">{{item.cValue}}</i-option>
                    </i-select>
                </form-item>
                <form-item label="装车方式：">
                    <i-input v-model="formItem.strLoadingWays" placeholder="输入装车方式"></i-input>
                </form-item>
                <form-item label="备  注：">
                    <i-input v-model="formItem.strRemarks" type="textarea" placeholder="输入备注信息"></i-input>
                </form-item>
            </i-form>
             <div slot="footer">
   <i-button type="ghost" @click="closeModel">取 消</i-button> <i-button @click="updateInfo" type="primary">提 交</i-button>
  </div>
        </Modal>
         <Modal v-model="cancelModelVisible" title="关闭产品需求订单"   >
            <h3>确定要关闭产品需求订单:<span style="color:red">{{changeRow.strBillNo}}</span>?</h3>
         
             <div slot="footer">
            <i-button type="ghost" @click="closeModel">取 消</i-button> <i-button @click="cancelXOrder" type="error">确 认</i-button>
        </div>
         </Modal>
    </div>
    <script src="../js/plugins/vue/axios.js"></script>
    <script src="../js/plugins/vue/axios_FUN.js"></script>
    <script src="../js/plugins/vue/vue-2.5.13.min.js"></script>
    <script src="../js/plugins/iview/2.14.0/iview.min.js"></script>
   

    <script>
    var a = Date.parse(new Date());
    document.write(' <script type="text/javascript"  charset="utf-8" src="..\/js\/Project\/XOrderList.js?v=' + a + '"><\/script>');
    </script>
</body>

</html>